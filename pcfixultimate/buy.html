<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <title>PCFixUltimate â€” Ø´Ø±Ø§Ø¡ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- PayPal JS SDK (LIVE) -->
    <script
      src="https://www.paypal.com/sdk/js?client-id=AfihjAXTyDN5TqjgromFKBgDJb13HTB4SqlvZ9JusszBMBLCUxVJKBA8jz-ThHzl5Lhslp4rEvv-_Enc&currency=USD&intent=capture&components=buttons"
      data-sdk-integration-source="button-factory"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap");

      :root{
        --bg0:#05070d;
        --bg1:#0a0e1a;
        --card: rgba(17, 24, 39, 0.62);
        --card2: rgba(15, 23, 42, 0.55);
        --border: rgba(148, 163, 184, 0.16);
        --border2: rgba(148, 163, 184, 0.10);

        --accent:#3b82f6;
        --accent2:#60a5fa;
        --accent3:#2563eb;

        --success:#10b981;
        --error:#ef4444;
        --warning:#f59e0b;

        --text:#f8fafc;
        --muted:#94a3b8;
        --dim:#64748b;

        --glowB: rgba(59,130,246,0.35);
        --glowC: rgba(6,182,212,0.25);
        --glowP: rgba(168,85,247,0.22);
      }

      *{ box-sizing:border-box; margin:0; padding:0; }
      body{
        font-family: "Tajawal", system-ui, -apple-system, sans-serif;
        background: var(--bg0);
        color: var(--text);
        min-height:100vh;
        overflow-x:hidden;
      }

      .bg{
        position:fixed; inset:0; z-index:0;
        background:
          radial-gradient(1000px 600px at 15% -10%, rgba(59,130,246,0.18), transparent 60%),
          radial-gradient(900px 700px at 85% 110%, rgba(168,85,247,0.14), transparent 60%),
          radial-gradient(800px 500px at 50% 40%, rgba(6,182,212,0.10), transparent 65%),
          linear-gradient(135deg, var(--bg1), #000 80%);
      }
      .bg::before{
        content:"";
        position:absolute;
        width:900px; height:900px;
        right:-260px; top:-420px;
        border-radius:50%;
        background: radial-gradient(circle, var(--glowB), transparent 70%);
        filter: blur(2px);
        opacity: .35;
        animation: float1 18s ease-in-out infinite;
      }
      .bg::after{
        content:"";
        position:absolute;
        width:720px; height:720px;
        left:-220px; bottom:-420px;
        border-radius:50%;
        background: radial-gradient(circle, var(--glowP), transparent 70%);
        opacity: .30;
        animation: float2 24s ease-in-out infinite;
      }
      @keyframes float1{ 0%,100%{transform:translate(0,0) scale(1);} 50%{transform:translate(-80px,80px) scale(1.08);} }
      @keyframes float2{ 0%,100%{transform:translate(0,0) scale(1);} 50%{transform:translate(90px,-70px) scale(1.10);} }

      main{
        position:relative; z-index:1;
        max-width: 1280px;
        margin: 0 auto;
        padding: 42px 18px 64px;
      }

      /* Header */
      header{
        text-align:center;
        margin-bottom: 26px;
        animation: fadeDown .7s ease-out both;
      }
      @keyframes fadeDown{ from{opacity:0; transform:translateY(-18px);} to{opacity:1; transform:translateY(0);} }

      .logoWrap{
        display:inline-flex;
        align-items:center;
        justify-content:center;
        margin-bottom: 16px;
      }
      .logo{
        width:92px; height:92px;
        border-radius:26px;
        background: linear-gradient(145deg, #1f2937, #0b1222);
        display:flex; align-items:center; justify-content:center;
        box-shadow:
          0 22px 70px rgba(0,0,0,0.8),
          0 0 0 1px rgba(255,255,255,0.06) inset,
          0 0 80px rgba(59,130,246,0.22);
        position:relative;
        transform-style:preserve-3d;
        animation: logoFloat 3s ease-in-out infinite;
      }
      @keyframes logoFloat{ 0%,100%{transform:translateY(0);} 50%{transform:translateY(-8px);} }
      .logo::before{
        content:"";
        position:absolute; inset:-3px;
        border-radius:30px;
        background: linear-gradient(45deg, var(--accent), #06b6d4, #a855f7);
        opacity:.55;
        filter: blur(18px);
        z-index:-1;
        animation: spin 8s linear infinite;
      }
      @keyframes spin{ from{transform:rotate(0)} to{transform:rotate(360deg)} }

      .logo span{
        font-weight: 900;
        font-size: 2.3rem;
        background: linear-gradient(135deg, var(--accent2), #06b6d4);
        -webkit-background-clip:text;
        background-clip:text;
        -webkit-text-fill-color: transparent;
        filter: drop-shadow(0 0 18px rgba(96,165,250,0.30));
      }

      h1{
        font-size: 2.55rem;
        font-weight: 900;
        letter-spacing: .2px;
        margin-bottom: 10px;
        background: linear-gradient(135deg, var(--text), var(--muted));
        -webkit-background-clip:text;
        background-clip:text;
        -webkit-text-fill-color: transparent;
      }
      .sub{
        max-width: 860px;
        margin: 0 auto 14px;
        line-height: 1.75;
        color: var(--muted);
        font-size: 1.05rem;
      }

      .pills{
        display:flex;
        justify-content:center;
        flex-wrap:wrap;
        gap:10px;
        margin-top: 10px;
      }
      .pill{
        display:inline-flex;
        align-items:center;
        gap:8px;
        padding: 10px 14px;
        border-radius: 999px;
        background: rgba(15,23,42,0.55);
        border: 1px solid var(--border2);
        color: var(--muted);
        backdrop-filter: blur(10px);
        font-size: .92rem;
      }
      .pill.sec{
        background: rgba(16,185,129,0.10);
        border-color: rgba(16,185,129,0.22);
        color: var(--success);
      }
      .dot{
        width:8px; height:8px; border-radius:50%;
        background: var(--success);
        box-shadow: 0 0 10px rgba(16,185,129,0.8);
      }

      /* Grid */
      .grid{
        display:grid;
        grid-template-columns: 1.1fr 0.9fr;
        gap: 18px;
        margin-top: 18px;
        animation: fadeUp .9s ease-out .12s both;
      }
      @keyframes fadeUp{ from{opacity:0; transform:translateY(18px);} to{opacity:1; transform:translateY(0);} }
      @media (max-width: 1050px){
        .grid{ grid-template-columns: 1fr; }
      }

      .card{
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 26px;
        padding: 24px;
        box-shadow:
          0 28px 100px rgba(0,0,0,0.55),
          0 0 0 1px rgba(255,255,255,0.03) inset;
        position:relative;
        overflow:hidden;
        backdrop-filter: blur(18px);
      }
      .card::before{
        content:"";
        position:absolute;
        top:0; left:0; right:0;
        height:1px;
        background: linear-gradient(90deg, transparent, rgba(96,165,250,0.45), transparent);
      }

      .cardHead{
        display:flex;
        align-items:center;
        gap:12px;
        margin-bottom: 12px;
      }
      .step{
        width:44px; height:44px;
        border-radius: 14px;
        display:flex; align-items:center; justify-content:center;
        background: linear-gradient(135deg, var(--accent), var(--accent2));
        color:#fff;
        font-weight: 900;
        font-size: 1.2rem;
        box-shadow: 0 14px 40px rgba(59,130,246,0.25);
      }
      .title{
        font-size: 1.35rem;
        font-weight: 900;
      }
      .hint{
        color: var(--muted);
        font-size: .95rem;
        line-height: 1.75;
        margin-bottom: 14px;
      }

      label{
        display:block;
        color: var(--muted);
        font-weight: 800;
        margin-bottom: 8px;
        font-size: .92rem;
      }
      .row{
        display:flex;
        gap: 10px;
        flex-wrap:wrap;
        align-items:stretch;
      }
      input[type="text"], input[type="email"]{
        flex:1;
        min-width: 260px;
        padding: 13px 14px;
        border-radius: 14px;
        border: 2px solid rgba(148,163,184,0.16);
        background: rgba(2,6,23,0.35);
        color: var(--text);
        font-size: .95rem;
        font-family: ui-monospace, Menlo, Consolas, monospace;
        direction:ltr;
        outline:none;
        transition: .18s ease;
      }
      input::placeholder{ color: var(--dim); }
      input:focus{
        border-color: rgba(59,130,246,0.65);
        box-shadow: 0 0 0 4px rgba(59,130,246,0.10);
        background: rgba(2,6,23,0.48);
      }

      button, a.btn{
        border:none;
        border-radius: 14px;
        padding: 13px 18px;
        font-weight: 900;
        font-size: .95rem;
        cursor:pointer;
        display:inline-flex;
        align-items:center;
        justify-content:center;
        gap:8px;
        transition: transform .15s ease, box-shadow .15s ease, opacity .15s ease, background .15s ease;
        font-family: "Tajawal", system-ui, -apple-system, sans-serif;
        text-decoration:none;
        white-space:nowrap;
      }
      .btnPrimary{
        background: linear-gradient(135deg, var(--accent), var(--accent3));
        color:#fff;
        box-shadow: 0 14px 42px rgba(59,130,246,0.23);
      }
      .btnPrimary:hover{ transform: translateY(-2px); box-shadow: 0 18px 55px rgba(59,130,246,0.35); }
      .btnGhost{
        background: rgba(148,163,184,0.10);
        border: 1px solid rgba(148,163,184,0.18);
        color: var(--muted);
      }
      .btnGhost:hover{ background: rgba(148,163,184,0.16); }
      .btnSuccess{
        background: linear-gradient(135deg, rgba(16,185,129,1), rgba(6,182,212,0.95));
        color:#041014;
        box-shadow: 0 16px 48px rgba(16,185,129,0.16);
      }
      .btnSuccess:hover{ transform: translateY(-2px); box-shadow: 0 20px 60px rgba(16,185,129,0.22); }
      .btnSmall{ padding: 10px 14px; border-radius: 12px; font-size: .9rem; }

      button:disabled, a.btn[aria-disabled="true"]{
        opacity: .55;
        cursor:not-allowed;
        transform:none !important;
        box-shadow:none !important;
      }

      .priceBox{
        margin-top: 14px;
        padding: 16px 16px;
        border-radius: 18px;
        border: 1px solid rgba(59,130,246,0.22);
        background: linear-gradient(135deg, rgba(59,130,246,0.10), rgba(168,85,247,0.06));
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:12px;
        flex-wrap:wrap;
      }
      .price{
        display:flex;
        flex-direction:column;
        gap:6px;
      }
      .price .big{
        font-size: 2.2rem;
        font-weight: 900;
        line-height:1;
        background: linear-gradient(135deg, var(--accent2), #06b6d4);
        -webkit-background-clip:text;
        background-clip:text;
        -webkit-text-fill-color: transparent;
      }
      .price .small{ color: var(--dim); font-size: .92rem; }

      .mhChip{
        display:flex;
        align-items:center;
        gap:10px;
        padding: 10px 12px;
        border-radius: 14px;
        border: 1px dashed rgba(148,163,184,0.25);
        background: rgba(2,6,23,0.22);
        color: var(--muted);
        font-family: ui-monospace, Menlo, Consolas, monospace;
        font-size: .84rem;
        max-width: 100%;
        overflow:auto;
      }
      .mhChip b{ color: var(--dim); font-weight:900; }

      .status{
        margin-top: 14px;
        display:flex;
        align-items:center;
        gap:10px;
        padding: 12px 14px;
        border-radius: 16px;
        border: 1px solid rgba(148,163,184,0.14);
        background: rgba(2,6,23,0.24);
        color: var(--muted);
        font-size: .95rem;
      }
      .sdot{ width:10px; height:10px; border-radius:50%; background: var(--muted); }
      .ok{ border-color: rgba(16,185,129,0.25); color: rgba(16,185,129,1); }
      .ok .sdot{ background: var(--success); box-shadow: 0 0 10px rgba(16,185,129,0.7); }
      .err{ border-color: rgba(239,68,68,0.22); color: rgba(239,68,68,1); }
      .err .sdot{ background: var(--error); box-shadow: 0 0 10px rgba(239,68,68,0.6); }
      .pend{ border-color: rgba(245,158,11,0.24); color: rgba(245,158,11,1); }
      .pend .sdot{ background: var(--warning); box-shadow: 0 0 10px rgba(245,158,11,0.55); animation: pulse2 1.6s ease-in-out infinite; }
      @keyframes pulse2{ 0%,100%{transform:scale(1); opacity:1} 50%{transform:scale(1.15); opacity:.75} }

      .paypalBox{
        margin-top: 14px;
        padding: 16px 16px;
        border-radius: 18px;
        border: 1px solid rgba(148,163,184,0.14);
        background: rgba(2,6,23,0.22);
      }
      .paypalHint{
        color: var(--muted);
        font-size: .92rem;
        margin-bottom: 10px;
      }
      .warn{
        margin-top: 12px;
        padding: 12px 12px;
        border-radius: 14px;
        border: 1px solid rgba(245,158,11,0.22);
        background: rgba(245,158,11,0.06);
        color: var(--dim);
        font-size: .88rem;
        line-height: 1.7;
      }
      .warn strong{ color: var(--warning); }

      /* Download box */
      .downloadBox{
        margin-top: 14px;
        padding: 16px 16px;
        border-radius: 18px;
        border: 1px solid rgba(96,165,250,0.20);
        background: linear-gradient(135deg, rgba(6,182,212,0.08), rgba(59,130,246,0.10));
      }
      .downloadTop{
        display:flex;
        align-items:flex-start;
        justify-content:space-between;
        gap:12px;
        flex-wrap:wrap;
      }
      .downloadTitle{
        font-weight: 900;
        font-size: 1.05rem;
        margin-bottom: 6px;
      }
      .downloadMeta{
        color: var(--muted);
        font-size: .90rem;
        line-height: 1.6;
      }
      .dlRow{
        display:flex;
        gap:10px;
        flex-wrap:wrap;
        margin-top: 12px;
        align-items:center;
      }
      .dlBadge{
        display:inline-flex;
        align-items:center;
        gap:8px;
        padding: 8px 10px;
        border-radius: 999px;
        border: 1px solid rgba(148,163,184,0.16);
        background: rgba(2,6,23,0.22);
        color: var(--muted);
        font-size: .88rem;
      }
      .dlBadge b{
        color: var(--text);
        font-family: ui-monospace, Menlo, Consolas, monospace;
        font-weight: 900;
      }

      /* Right card (license) */
      .licenseBox{
        margin-top: 14px;
        padding: 16px 16px;
        border-radius: 18px;
        border: 1px solid rgba(16,185,129,0.25);
        background: linear-gradient(135deg, rgba(16,185,129,0.10), rgba(6,182,212,0.06));
      }
      .code{
        font-family: ui-monospace, Menlo, Consolas, monospace;
        font-weight: 900;
        letter-spacing: .06em;
        font-size: 1.15rem;
        padding: 14px 12px;
        border-radius: 14px;
        border: 1px solid rgba(16,185,129,0.35);
        background: rgba(2,6,23,0.25);
        color: var(--success);
        text-align:center;
        overflow:auto;
      }
      .steps{
        margin-top: 12px;
        padding: 12px 12px;
        border-radius: 14px;
        border: 1px dashed rgba(148,163,184,0.16);
        background: rgba(2,6,23,0.18);
        color: var(--muted);
        font-size: .92rem;
        line-height: 1.85;
      }
      .steps strong{ color: var(--text); }

      .hidden{ display:none; }

      .footer{
        margin-top: 18px;
        text-align:center;
        color: var(--muted);
        font-size: .95rem;
        line-height: 1.8;
        padding: 18px;
        border-radius: 20px;
        border: 1px solid rgba(148,163,184,0.10);
        background: rgba(2,6,23,0.18);
      }
      .footer code{
        font-family: ui-monospace, Menlo, Consolas, monospace;
        color: var(--accent2);
      }

      @media (max-width: 720px){
        h1{ font-size: 2.05rem; }
        .sub{ font-size: 1rem; }
        .card{ padding: 18px; }
      }
    </style>
  </head>

  <body>
    <div class="bg"></div>

    <main>
      <header>
        <div class="logoWrap">
          <div class="logo"><span>PF</span></div>
        </div>
        <h1>PCFixUltimate</h1>
        <p class="sub">
          Ø´Ø±Ø§Ø¡ ØªÙØ¹ÙŠÙ„ Ø£ØµÙ„ÙŠ Ù„Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯ + Ø¥ØµØ¯Ø§Ø± ÙƒÙˆØ¯ ØªÙØ¹ÙŠÙ„ Ù…Ø®ØµØµ Ù„Ø¨ØµÙ…Ø© Ø¬Ù‡Ø§Ø²Ùƒ.
          Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ø²Ø± <b>ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø¥ØµØ¯Ø§Ø±</b> ÙŠØªØ­Ø¯Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† GitHub Releases.
        </p>

        <div class="pills">
          <div class="pill sec"><span class="dot"></span><span>Ø¯ÙØ¹ Ø¢Ù…Ù† Ø¹Ø¨Ø± PayPal</span></div>
          <div class="pill"><span>ØªØ±Ø®ÙŠØµ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø©</span></div>
          <div class="pill"><span>Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯</span></div>
        </div>
      </header>

      <div class="grid">
        <!-- LEFT -->
        <section class="card">
          <div class="cardHead">
            <div class="step">Ù¡</div>
            <div>
              <div class="title">Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„ØªÙØ¹ÙŠÙ„</div>
              <div class="hint">
                Ø§Ù„ØµÙ‚ Ù‚ÙŠÙ…Ø© <span class="mono">machine hash</span> (mh) Ø«Ù… Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¯ÙØ¹.
              </div>
            </div>
          </div>

          <label for="mh_input">Ø¨ØµÙ…Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² (Machine Hash)</label>
          <div class="row">
            <input id="mh_input" type="text" placeholder="Ù…Ø«Ø§Ù„: 81e80f3e97a4b5c6d..." />
            <button id="btn_use_mh" type="button" class="btnPrimary">Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ØµÙ…Ø©</button>
          </div>

          <div class="priceBox">
            <div class="price">
              <div class="small">Ø§Ù„Ø³Ø¹Ø±</div>
              <div>
                <span class="big">$16.99</span>
                <span style="color:var(--muted); font-weight:900;">USD</span>
              </div>
              <div class="small">ØªØ±Ø®ÙŠØµ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© â€” Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯</div>
            </div>

            <div class="mhChip">
              <b>MH</b>
              <span id="mh">â€”</span>
            </div>
          </div>

          <div id="status" class="status">
            <span class="sdot"></span>
            <span>Ø£Ø¯Ø®Ù„ Ø¨ØµÙ…Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹.</span>
          </div>

          <div class="paypalBox">
            <div class="paypalHint">Ø²Ø± PayPal ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ØµÙ…Ø© ØµØ§Ù„Ø­Ø©:</div>
            <div id="paypal-buttons"></div>
            <div class="warn">
              <strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong>
              Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ + Ø§Ù„ØªØ£ÙƒÙŠØ¯ (Capture) + Ø¥ØµØ¯Ø§Ø± Ø§Ù„ØªØ±Ø®ÙŠØµ ÙŠØªÙ… Ø¹Ø¨Ø± Worker Ø¹Ù†Ø¯Ùƒ (Server-side).
            </div>
          </div>

          <!-- Download latest -->
          <div class="downloadBox">
            <div class="downloadTop">
              <div>
                <div class="downloadTitle">ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø¥ØµØ¯Ø§Ø± Ù…Ù† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</div>
                <div class="downloadMeta">
                  Ø³ÙŠØªÙ… Ø¬Ù„Ø¨ Ø±Ù‚Ù… Ø¢Ø®Ø± Ø¥ØµØ¯Ø§Ø± ÙˆØ±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† GitHub Releases.
                  Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø¬Ù„Ø¨ Ù„Ø£ÙŠ Ø³Ø¨Ø¨ØŒ ÙŠØ¸Ù‡Ø± Ø²Ø± Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„ØµÙØ­Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª.
                </div>
              </div>
            </div>

            <div class="dlRow">
              <span class="dlBadge">Ø§Ù„Ø¥ØµØ¯Ø§Ø±: <b id="latest_version">â€”</b></span>
              <span class="dlBadge">Ø§Ù„Ù…Ù„Ù: <b id="latest_asset">â€”</b></span>
            </div>

            <div class="dlRow">
              <a id="btn_download" class="btn btnSuccess" href="#" aria-disabled="true">
                â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ù†Ø³Ø®Ø©
              </a>
              <a id="btn_releases" class="btn btnGhost" href="#" target="_blank" rel="noopener">
                ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª
              </a>
              <button id="btn_refresh_release" class="btnGhost btnSmall" type="button">
                â†» ØªØ­Ø¯ÙŠØ«
              </button>
            </div>

            <div id="dl_status" class="hint" style="margin-top:10px;">
              Ø¬Ø§Ø±ÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø¢Ø®Ø± Ø¥ØµØ¯Ø§Ø±â€¦
            </div>
          </div>
        </section>

        <!-- RIGHT -->
        <section class="card">
          <div class="cardHead">
            <div class="step">Ù¢</div>
            <div>
              <div class="title">Ø§Ø³ØªÙ„Ø§Ù… ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„</div>
              <div class="hint">
                Ø¨Ø¹Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø³ÙŠØ¸Ù‡Ø± ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ Ù‡Ù†Ø§.
              </div>
            </div>
          </div>

          <div id="license_block" class="hidden">
            <div class="licenseBox">
              <div style="color:var(--muted); font-weight:900; margin-bottom:10px;">Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù‚ØµÙŠØ± Ù„Ø¬Ù‡Ø§Ø²Ùƒ:</div>
              <div id="short_code" class="code">PCFX-XXXXXXXX</div>

              <div class="row" style="margin-top:12px;">
                <button id="btn_copy" class="btnPrimary btnSmall" type="button">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯</button>
              </div>
            </div>

            <div class="steps">
              <div style="font-weight:900; margin-bottom:8px;">ğŸ“Œ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬:</div>
              <ol style="padding-right:18px;">
                <li>Ø§ÙØªØ­ <strong>PCFixUltimate</strong>.</li>
                <li>Ø§Ø®ØªØ± <strong>Activate Program</strong>.</li>
                <li>Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ ÙˆØ§Ø¶ØºØ· ØªÙØ¹ÙŠÙ„.</li>
              </ol>
            </div>
          </div>

          <div id="empty_hint" class="steps">
            â³ Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØªØ±Ø®ÙŠØµ Ø¨Ø¹Ø¯. Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± PayPal ÙˆØ³ÙŠØ¸Ù‡Ø± Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.
          </div>

          <div class="row" style="margin-top:12px;">
            <button id="btn_clear" class="btnGhost btnSmall" type="button">ğŸ”„ Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
          </div>
        </section>
      </div>

      <div class="footer">
        Ø§Ù„ØªØ±Ø®ÙŠØµ Ù…Ø±ØªØ¨Ø· Ø¨Ø¨ØµÙ…Ø© Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯. Ø¥Ø°Ø§ Ø¹Ù…Ù„Øª ÙÙˆØ±Ù…Ø§ØªØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù†ÙØ³
        <code>mh</code> Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„.
      </div>
    </main>

    <script>
      // ==============================
      // 1) Worker endpoints (ÙƒÙ…Ø§ Ø¹Ù†Ø¯Ùƒ)
      // ==============================
      const API_BASE = "https://pcfix-license-api.pcfixultimate.workers.dev";
      const CREATE_ORDER_ENDPOINT = `${API_BASE}/paypal/create-order`;
      const CAPTURE_ORDER_ENDPOINT = `${API_BASE}/paypal/capture-order`;
      const CLAIM_LICENSE_ENDPOINT = `${API_BASE}/claim-license`;

      const PRICE_USD = "16.99";

      // =====================================
      // 2) GitHub latest release auto-download
      // =====================================
      // GitHub REST API "releases/latest": /repos/{owner}/{repo}/releases/latest :contentReference[oaicite:2]{index=2}
      // Note: Unauthenticated rate limit is low, so we cache results in localStorage :contentReference[oaicite:3]{index=3}
      const REPO_OWNER = "ameero197-dotcom";
      const REPO_NAME  = "ameero197-dotcom.github.io";
      const GH_LATEST_API = `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/releases/latest`;
      const GH_RELEASES_WEB = `https://github.com/${REPO_OWNER}/${REPO_NAME}/releases`;

      // Prefer this exact filename if exists, else pick first .exe asset
      const PREFERRED_ASSET_NAME = "PCFixUltimateSetup.exe";

      // Cache for 10 minutes
      const GH_CACHE_KEY = "pcfix_latest_release_cache_v1";
      const GH_CACHE_TTL_MS = 10 * 60 * 1000;

      const $ = (id) => document.getElementById(id);

      function setStatus(text, mode = "info") {
        const el = $("status");
        el.classList.remove("ok","err","pend");
        if (mode === "ok") el.classList.add("ok");
        else if (mode === "err") el.classList.add("err");
        else if (mode === "pend") el.classList.add("pend");
        el.querySelector(".sdot").style.opacity = "1";
        el.lastElementChild.textContent = text;
      }

      function mhValue() { return ($("mh_input").value || "").trim(); }
      function isMhValid(mh) { return /^[a-f0-9]{32,128}$/i.test(mh); }

      function showLicense(code, mh) {
        $("empty_hint").classList.add("hidden");
        $("license_block").classList.remove("hidden");
        $("short_code").textContent = code || "PCFX-XXXXXXXX";
        if (mh) {
          $("mh").textContent = mh;
          if (!$("mh_input").value) $("mh_input").value = mh;
        }
      }

      async function claimLicense(orderId, mh) {
        setStatus("Ø¬Ø§Ø±ÙŠ Ø¥ØµØ¯Ø§Ø± ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„â€¦", "pend");
        const res = await fetch(CLAIM_LICENSE_ENDPOINT, {
          method: "POST",
          headers: { "Content-Type":"application/json" },
          body: JSON.stringify({ order_id: orderId, machine_hash: mh })
        });
        const data = await res.json().catch(()=> ({}));
        if (!res.ok || !data.short_code) {
          throw new Error(data?.error || "ØªØ¹Ø°Ø± Ø¥ØµØ¯Ø§Ø± ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„. ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù….");
        }
        showLicense(data.short_code, data.machine_hash || mh);
        setStatus("âœ“ ØªÙ… Ø§Ù„Ø¯ÙØ¹ ÙˆØ¥ØµØ¯Ø§Ø± ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­", "ok");
      }

      function renderPaypalButtons() {
        const mh = mhValue();
        if (!isMhValid(mh)) {
          setStatus("Ø£Ø¯Ø®Ù„ Ø¨ØµÙ…Ø© Ø¬Ù‡Ø§Ø² ØµØ­ÙŠØ­Ø© Ø£ÙˆÙ„Ø§Ù‹.", "err");
          return;
        }

        $("mh").textContent = mh;
        $("paypal-buttons").innerHTML = "";

        paypal.Buttons({
          style: { layout: "vertical", label: "paypal", shape: "rect" },

          createOrder: async () => {
            setStatus("Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø§Ù„Ø¯ÙØ¹â€¦", "pend");
            const res = await fetch(CREATE_ORDER_ENDPOINT, {
              method: "POST",
              headers: { "Content-Type":"application/json" },
              body: JSON.stringify({ machine_hash: mh, amount: PRICE_USD, currency: "USD" })
            });
            const data = await res.json().catch(()=> ({}));
            if (!res.ok || !data.id) throw new Error(data?.error || "ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ PayPal.");
            return data.id;
          },

          onApprove: async (data) => {
            try {
              setStatus("Ø¬Ø§Ø±ÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹â€¦", "pend");
              const res = await fetch(CAPTURE_ORDER_ENDPOINT, {
                method: "POST",
                headers: { "Content-Type":"application/json" },
                body: JSON.stringify({ order_id: data.orderID })
              });
              const cap = await res.json().catch(()=> ({}));
              if (!res.ok || !cap.ok) throw new Error(cap?.error || "ÙØ´Ù„ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ (Capture).");

              await claimLicense(data.orderID, mh);
            } catch (e) {
              console.error(e);
              setStatus("Ø­ØµÙ„ Ø®Ø·Ø£ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹: " + (e?.message || e), "err");
            }
          },

          onCancel: () => setStatus("ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹.", "err"),
          onError: (err) => {
            console.error(err);
            setStatus("Ø®Ø·Ø£ ÙÙŠ PayPal: " + (err?.message || err), "err");
          }
        }).render("#paypal-buttons");

        setStatus("âœ“ Ø²Ø± PayPal Ø¬Ø§Ù‡Ø² â€” Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¯ÙØ¹", "ok");
      }

      // -----------------------------
      // GitHub latest release section
      // -----------------------------
      function setDlStatus(msg) {
        $("dl_status").textContent = msg;
      }

      function setDownloadEnabled(enabled) {
        const a = $("btn_download");
        if (enabled) {
          a.setAttribute("aria-disabled", "false");
          a.style.pointerEvents = "auto";
          a.style.opacity = "1";
        } else {
          a.setAttribute("aria-disabled", "true");
          a.style.pointerEvents = "none";
          a.style.opacity = ".65";
        }
      }

      function safeJsonParse(s) {
        try { return JSON.parse(s); } catch { return null; }
      }

      function readCache() {
        const raw = localStorage.getItem(GH_CACHE_KEY);
        const parsed = raw ? safeJsonParse(raw) : null;
        if (!parsed || !parsed.ts || !parsed.data) return null;
        if (Date.now() - parsed.ts > GH_CACHE_TTL_MS) return null;
        return parsed.data;
      }

      function writeCache(data) {
        try {
          localStorage.setItem(GH_CACHE_KEY, JSON.stringify({ ts: Date.now(), data }));
        } catch {}
      }

      function pickAsset(assets) {
        if (!Array.isArray(assets)) return null;

        // 1) Exact preferred name
        const exact = assets.find(a => (a?.name || "").toLowerCase() === PREFERRED_ASSET_NAME.toLowerCase());
        if (exact && exact.browser_download_url) return exact;

        // 2) Any .exe
        const exe = assets.find(a => (a?.name || "").toLowerCase().endsWith(".exe") && a.browser_download_url);
        if (exe) return exe;

        // 3) Any asset with download url
        const any = assets.find(a => a && a.browser_download_url);
        return any || null;
      }

      async function loadLatestRelease({ force = false } = {}) {
        $("btn_releases").href = GH_RELEASES_WEB;

        setDownloadEnabled(false);
        $("latest_version").textContent = "â€”";
        $("latest_asset").textContent = "â€”";
        $("btn_download").href = "#";

        setDlStatus("Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø¥ØµØ¯Ø§Ø± Ù…Ù† GitHubâ€¦");

        if (!force) {
          const cached = readCache();
          if (cached) {
            applyLatestRelease(cached, { fromCache: true });
            return;
          }
        }

        try {
          const res = await fetch(GH_LATEST_API, {
            method: "GET",
            headers: { "Accept": "application/vnd.github+json" }
          });
          const data = await res.json().catch(() => ({}));

          if (!res.ok) {
            const msg = data?.message ? String(data.message) : `HTTP ${res.status}`;
            throw new Error(msg);
          }

          writeCache(data);
          applyLatestRelease(data, { fromCache: false });
        } catch (e) {
          console.error(e);
          setDlStatus("ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø¢Ù†. Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± ØµÙØ­Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª ÙƒØ®ÙŠØ§Ø± Ø§Ø­ØªÙŠØ§Ø·ÙŠ.");
          $("latest_version").textContent = "ØºÙŠØ± Ù…ØªØ§Ø­";
          $("latest_asset").textContent = "ØºÙŠØ± Ù…ØªØ§Ø­";
          setDownloadEnabled(false);
        }
      }

      function applyLatestRelease(data, { fromCache } = {}) {
        const tag = data?.tag_name || data?.name || "â€”";
        const assets = data?.assets || [];
        const asset = pickAsset(assets);

        $("latest_version").textContent = tag;
        $("latest_asset").textContent = asset?.name || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ù exe";

        if (asset?.browser_download_url) {
          $("btn_download").href = asset.browser_download_url;
          setDownloadEnabled(true);
          setDlStatus(fromCache ? "ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø§Ù„ÙƒØ§Ø´ Ø§Ù„Ù…Ø­Ù„ÙŠ (Ù„Ø£Ø¯Ø§Ø¡ Ø£ÙØ¶Ù„)." : "Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ù…ÙŠÙ„ âœ“");
        } else {
          setDownloadEnabled(false);
          setDlStatus("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù„Ù ØªÙ†Ø²ÙŠÙ„ Ù…Ù†Ø§Ø³Ø¨ Ø¯Ø§Ø®Ù„ Assets. Ø§ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª.");
        }
      }

      // -----------------------------
      // Events
      // -----------------------------
      $("btn_use_mh").addEventListener("click", () => {
        const mh = mhValue();
        if (!isMhValid(mh)) return setStatus("Ø§Ù„Ø¨ØµÙ…Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©. Ø§Ù„ØµÙ‚ Ù‚ÙŠÙ…Ø© mh ÙƒÙ…Ø§ Ù‡ÙŠ Ù…Ù† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬.", "err");
        $("mh").textContent = mh;
        $("license_block").classList.add("hidden");
        $("empty_hint").classList.remove("hidden");
        renderPaypalButtons();
      });

      $("btn_clear").addEventListener("click", () => {
        $("mh_input").value = "";
        $("mh").textContent = "â€”";
        $("paypal-buttons").innerHTML = "";
        $("license_block").classList.add("hidden");
        $("empty_hint").classList.remove("hidden");
        setStatus("Ø£Ø¯Ø®Ù„ Ø¨ØµÙ…Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹.", "info");
      });

      $("btn_copy").addEventListener("click", () => {
        const code = $("short_code").textContent || "";
        if (!code) return setStatus("Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙˆØ¯ Ù„Ù†Ø³Ø®Ù‡.", "err");
        navigator.clipboard.writeText(code)
          .then(() => setStatus("âœ“ ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø¨Ù†Ø¬Ø§Ø­", "ok"))
          .catch((e) => setStatus("ØªØ¹Ø°Ø± Ø§Ù„Ù†Ø³Ø®: " + (e?.message || e), "err"));
      });

      $("btn_refresh_release").addEventListener("click", () => loadLatestRelease({ force: true }));

      document.addEventListener("DOMContentLoaded", () => {
        // Auto-fill mh from URL
        const params = new URLSearchParams(location.search);
        const mh = (params.get("mh") || params.get("machine_hash") || "").trim();
        if (mh) {
          $("mh_input").value = mh;
          $("mh").textContent = mh;
          if (isMhValid(mh)) renderPaypalButtons();
        }

        // Load latest release info
        loadLatestRelease({ force: false });
      });
    </script>
  </body>
</html>
